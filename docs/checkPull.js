(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{156:function(t,e,n){"use strict";n.d(e,"c",(function(){return Y})),n.d(e,"b",(function(){return $})),n.d(e,"a",(function(){return m}));n(96),n(189),n(34),n(57),n(23),n(99),n(97);var r=n(143),a=n.n(r),i=n(7);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e,n,r,a,i,o){try{var c=t[i](o),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){c(i,r,a,o,u,"next",t)}function u(t){c(i,r,a,o,u,"throw",t)}o(void 0)}))}}var s="https://api.github.com",p=function(t,e,n){var r=t.message;e&&(r="".concat(e,": ").concat(r)),n||console.log(r)},f=function(t){return JSON.parse(JSON.stringify(t))},h=function(t){return"style_".concat(t,".txt")},l=Object(i.d)(btoa),m=function(){var t=u(regeneratorRuntime.mark((function t(e,n){var r,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.apiMethod?e.apiMethod:"get",i=[e.apiSection,e.repoPath,e.apiSuffix].filter((function(t){return t})).join("/"),t.next=4,a()({method:r,url:"".concat(s,"/").concat(i),headers:{Authorization:"token ".concat(e.apiToken)},data:e.params}).catch((function(t){return p(t,"API fail for ".concat(r," on ").concat(s,"/").concat(i),n)}));case 4:return o=t.sent,t.abrupt("return",!!o&&o.data);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),d=function t(e){o(this,t),this.repo=v.bind({apiToken:e}),this.me=b.bind({apiToken:e})},g=function t(e){o(this,t),e=f(e),this.apiMethod="get",this.apiSection="repos",this.repoPath=e.result.full_name,this.apiSuffix=!1,this.info=w.bind(e),this.fork=R.bind(e),this.commits=k.bind(e),this.patch=P.bind(e),this.getBranch=j.bind(e),this.deleteBranch=E.bind(e),this.setBranch=T.bind(e),this.getContents=A.bind(e),this.updateContents=J.bind(e),this.createPullRequest=B.bind(e),this.getPullRequest=D.bind(e)};function w(){return this.result}function v(t,e){return x.apply(this,arguments)}function x(){return(x=u(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=f(this)).apiMethod="get",r.apiSection="repos",r.repoPath=e,r.apiSuffix=!1,t.next=7,m(r,n);case 7:return r.result=t.sent,t.abrupt("return",new g(r));case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function b(){return y.apply(this,arguments)}function y(){return(y=u(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=f(this)).apiSection="user",t.next=4,m(e);case 4:return e.result=t.sent,t.abrupt("return",new g(e));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function R(t){return S.apply(this,arguments)}function S(){return(S=u(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=f(this)).apiMethod="post",n.apiSection="repos",n.repoPath=e,n.apiSuffix="forks",t.next=7,m(n);case 7:return n.result=t.sent,t.abrupt("return",new g(n));case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function k(){return I.apply(this,arguments)}function I(){return(I=u(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=f(this)).apiSuffix="commits?sha=master",t.abrupt("return",m(e));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function P(t){return _.apply(this,arguments)}function _(){return(_=u(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=f(this)).apiMethod="patch",n.apiSuffix="git/refs/heads/master",n.params={sha:e,force:!0},t.abrupt("return",m(n));case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function j(t,e){return O.apply(this,arguments)}function O(){return(O=u(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=f(this)).apiSuffix="git/ref/heads/".concat(e),t.abrupt("return",m(r,n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function E(t){return M.apply(this,arguments)}function M(){return(M=u(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=f(this)).apiMethod="delete",n.apiSuffix="git/refs/heads/".concat(e),t.abrupt("return",m(n));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function T(t,e){return C.apply(this,arguments)}function C(){return(C=u(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=f(this)).apiMethod="post",r.apiSuffix="git/refs",r.params={ref:"refs/heads/".concat(e),sha:n},t.abrupt("return",m(r));case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function A(t){return N.apply(this,arguments)}function N(){return(N=u(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f(this),r=h(e),n.apiSuffix="contents/".concat(r,"?ref=").concat(encodeURIComponent(e)),t.abrupt("return",m(n));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function J(t,e,n){return U.apply(this,arguments)}function U(){return(U=u(regeneratorRuntime.mark((function t(e,n,r){var a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=f(this),i=h(e),a.apiMethod="put",a.apiSuffix="contents/".concat(i),a.params={message:"Proposed edit to ".concat(e),content:n,branch:e},r&&(a.params.sha=r),t.abrupt("return",m(a));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function B(t,e,n){return q.apply(this,arguments)}function q(){return(q=u(regeneratorRuntime.mark((function t(e,n,r){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=f(this)).apiMethod="post",a.apiSuffix="pulls",a.params={title:"Citation: ".concat(e),head:"".concat(n,":").concat(e),base:"master",body:r,maintainer_can_modify:!0},t.abrupt("return",m(a));case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function D(t,e){return L.apply(this,arguments)}function L(){return(L=u(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=f(this)).apiMethod="get",r.apiSuffix="pulls?head=".concat(n,":").concat(e),t.abrupt("return",m(r));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var z=new function t(){o(this,t),this.client=function(t){return new d(t)}},Y=function(){var t=u(regeneratorRuntime.mark((function t(e,n,r){var a,o,c,u,s,f,h,m,d,g,w,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=window.localStorage.getItem("access_token"),o=z.client(a),t.next=4,o.me();case 4:return c=t.sent,t.next=7,o.repo("Juris-M/jsti-".concat(Object(i.c)()));case 7:return u=t.sent,s=window.localStorage.getItem("cite_userName"),t.next=11,o.repo("".concat(s,"/jsti-").concat(Object(i.c)()),!0);case 11:if(f=t.sent,(h=f.info()).full_name){t.next=17;break}return t.next=16,c.fork("Juris-M/jsti-".concat(Object(i.c)())).catch((function(t){return p(t,"create fork")}));case 16:h=t.sent;case 17:return t.next=19,u.commits();case 19:if(0===(m=t.sent).length){t.next=24;break}return d=m[0].sha,t.next=24,f.patch(d);case 24:return t.next=26,f.getBranch(e,!0);case 26:if(!t.sent){t.next=30;break}return t.next=30,f.deleteBranch(e);case 30:return t.next=32,f.setBranch(e,d);case 32:return t.sent,t.next=35,f.getContents(e);case 35:if(h=t.sent,g=l(n),h){t.next=45;break}return t.next=40,f.updateContents(e,g);case 40:return t.next=42,u.createPullRequest(e,s,r);case 42:h=t.sent,t.next=53;break;case 45:if(w=h.content.split("\n").join(""),g===w){t.next=53;break}return v=h.sha,t.next=50,f.updateContents(e,g,v);case 50:return t.next=52,u.createPullRequest(e,s,r);case 52:h=t.sent;case 53:return window.localStorage.setItem("test_content",n),t.abrupt("return",h);case 55:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),$=function(){var t=u(regeneratorRuntime.mark((function t(e){var n,r,a,o,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=window.localStorage.getItem("access_token"),r=z.client(n),t.next=4,r.repo("Juris-M/jsti-".concat(Object(i.c)()));case 4:return a=t.sent,t.next=7,r.me();case 7:return o=t.sent,c=o.info(),window.localStorage.setItem("cite_userName",c.login),t.next=12,a.getPullRequest(e,c.login);case 12:return u=t.sent,t.abrupt("return",u);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},186:function(t,e,n){"use strict";n.r(e);n(58),n(59),n(96),n(22),n(60),n(34),n(57),n(187),n(23),n(35),n(62),n(99),n(61),n(97);var r=n(156),a=n(7);function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e,n,r,a,i,o){try{var c=t[i](o),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}var u=Object(a.a)(atob),s=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var n,o,c,s,p,f,h,l,m,d,g,w,v,x,b,y,R;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!1,o=!1,!window.localStorage.getItem("cite_url")){t.next=7;break}n=window.localStorage.getItem("cite_url"),o=window.localStorage.getItem("test_content"),t.next=17;break;case 7:return t.next=9,Object(r.b)(e);case 9:return(c=t.sent)&&c.length>0&&(n=c[0].html_url,window.localStorage.setItem("cite_url",n)),s=window.localStorage.getItem("cite_userName"),p=window.localStorage.getItem("access_token"),t.next=15,Object(r.a)({apiSection:"repos",repoPath:"".concat(s,"/jsti-").concat(Object(a.c)()),apiSuffix:"contents/style_".concat(e,".txt?ref=").concat(e),apiToken:"".concat(p)});case 15:f=t.sent,o=u(f.content);case 17:if(o){for(h=o.split("\n"),l={},m={open:{},close:{}},d={},g=0,w=["DESCRIPTION","RESULT"];g<w.length;g++)l[v=w[g]]=!1,m.open[v]=new RegExp(">=+\\s+".concat(v,"\\s+=+>")),m.close[v]=new RegExp("<=+\\s+".concat(v,"\\s+=+<"));x=[],b=i(h);try{for(b.s();!(y=b.n()).done;)for(v in R=y.value,(l.DESCRIPTION||l.RESULT)&&x.push(R),l)R.match(m.open[v])?l[v]=!0:R.match(m.close[v])&&(x.pop(),d[v]=x.join("\n"),x=[],l[v]=!1)}catch(t){b.e(t)}finally{b.f()}window.localStorage.setItem("citation",d.RESULT),window.localStorage.setItem("cite_desc",d.DESCRIPTION)}else window.localStorage.removeItem("cite_desc");case 18:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){c(i,r,a,o,u,"next",t)}function u(t){c(i,r,a,o,u,"throw",t)}o(void 0)}))});return function(t){return e.apply(this,arguments)}}();e.default=s},187:function(t,e,n){var r=n(10),a=n(2),i=n(66),o=n(188),c=n(8).f,u=n(36).f,s=n(104),p=n(68),f=n(103),h=n(12),l=n(3),m=n(25).set,d=n(101),g=n(1)("match"),w=a.RegExp,v=w.prototype,x=/a/g,b=/a/g,y=new w(x)!==x,R=f.UNSUPPORTED_Y;if(r&&i("RegExp",!y||R||l((function(){return b[g]=!1,w(x)!=x||w(b)==b||"/a/i"!=w(x,"i")})))){for(var S=function(t,e){var n,r=this instanceof S,a=s(t),i=void 0===e;if(!r&&a&&t.constructor===S&&i)return t;y?a&&!i&&(t=t.source):t instanceof S&&(i&&(e=p.call(t)),t=t.source),R&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var c=o(y?new w(t,e):w(t,e),r?this:v,S);return R&&n&&m(c,{sticky:n}),c},k=function(t){t in S||c(S,t,{configurable:!0,get:function(){return w[t]},set:function(e){w[t]=e}})},I=u(w),P=0;I.length>P;)k(I[P++]);v.constructor=S,S.prototype=v,h(a,"RegExp",S)}d("RegExp")},188:function(t,e,n){var r=n(5),a=n(102);t.exports=function(t,e,n){var i,o;return a&&"function"==typeof(i=e.constructor)&&i!==n&&r(o=i.prototype)&&o!==n.prototype&&a(t,o),t}},189:function(t,e,n){"use strict";var r=n(9),a=n(67).filter,i=n(38),o=n(39),c=i("filter"),u=o("filter");r({target:"Array",proto:!0,forced:!c||!u},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);